<!doctype html>
<html>
<head>
<meta charset="utf-8">
<title>Heatmap Test Code</title>
<script src='http://www.patrick-wied.at/static/heatmapjs/assets/js/heatmap.min.js'></script>
</head>
<body>
  <div id='heatMap' style="height: 900px">
    <img class='img' width=200 height=500 src="images/insole.png" alt="" />
    <!--<canvas width="300px" height="300px" style="position:relative; left: 0; top: 0; border:1px solid #000000;"></canvas>-->
  </div>
  <div id='time-line'></div>
</body>
<script> 
  var heatmapInstance = h337.create({
    container: document.getElementById('heatMap')
  });

  var testData = {
        min: 10,
        max: 69,
        data: [
               //{x: 807, y: 583, value: 65}, 
               //{x: 597, y: 285, value: 51}, 
               {x: 120, y: 400, value: 73}, 
               //{x: 377, y: 656, value: 58}, 
               //{x: 467, y: 509, value: 47}, 
               {x: 100, y: 110, value: 46} 
               //{x: 247, y: 194, value: 35}
        ]
  };
  heatmapInstance.setData(testData);  



  // creating a class to wrap the heatmap cycling logic
  //function AnimationPlayer(options) {
  //  this.heatmap = options.heatmap;
  //  this.data = options.data;
  //  this.interval = null;
  //  this.animationSpeed = options.animationSpeed || 300;
  //  this.wrapperEl = options.wrapperEl;
  //  this.isPlaying = false;
  //  this.init();
  //};

  //// define the prototype functions
  //AnimationPlayer.prototype = {
  //  init: function() {
  //    var dataLen = this.data.length;
  //    this.wrapperEl.innerHTML = '';
  //    var playButton = this.playButton = document.createElement('button');
  //    playButton.onclick = function() {
  //      if (this.isPlaying) {
  //        this.stop();
  //      } else {
  //        this.play();
  //      }
  //      this.isPlaying = !this.isPlaying;
  //    }.bind(this);
  //    playButton.innerText = 'play';

  //    this.wrapperEl.appendChild(playButton);

  //    var events = document.createElement('div');
  //    events.className = 'heatmap-timeline';
  //    events.innerHTML = '';

  //    for (var i = 0; i < dataLen; i++) {

  //      var xOffset = 100/(dataLen - 1) * i;

  //      var ev = document.createElement('div');
  //      ev.className = 'time-point';
  //      ev.style.left = xOffset+'%';

  //      ev.onclick = (function(i) {
  //        return function() {
  //          this.isPlaying = false;
  //          this.stop();
  //          this.setFrame(i);
  //        }.bind(this);
  //      }.bind(this))(i);

  //      events.appendChild(ev);

  //    }

  //    this.wrapperEl.appendChild(events);
  //    this.setFrame(0);
  //  },
  //  play: function() {
  //    var dataLen = this.data.length;
  //    this.playButton.innerText = 'pause';
  //    this.interval = setInterval(function() {
  //      this.setFrame(++this.currentFrame%dataLen);
  //    }.bind(this), this.animationSpeed)
  //  },
  //  stop: function() {
  //    clearInterval(this.interval);
  //    this.playButton.innerText = 'play';
  //  },
  //  setFrame: function(frame) {
  //    this.currentFrame = frame;
  //    var snapshot = this.data[frame];
  //    this.heatmap.setData(snapshot);
  //    var timePoints = $('.heatmap-timeline .time-point');
  //    for (var i = 0; i < timePoints.length; i++) {
  //      timePoints[i].classList.remove('active');
  //    }
  //    timePoints[frame].classList.add('active');
  //  },
  //  setAnimationData: function(data) {
  //    this.isPlaying = false;
  //    this.stop();
  //    this.data = data;
  //    this.init();
  //  },
  //  setAnimationSpeed: function(speed) {
  //    this.isPlaying = false;
  //    this.stop();
  //    this.animationSpeed = speed;
  //  }
  //};

  //var heatmapInstance = h337.create({
  //  container: document.getElementById('.heatMap')
  //});

  //// animationData contains an array of heatmap data objects
  //var animationData = [];

  //// generate some heatmap data objects
  //for (var i = 0; i < 20; i++) {
  //  animationData.push(generateRandomData(300));
  //}

  //var player = new AnimationPlayer({
  //  heatmap: heatmapInstance,
  //  wrapperEl: document.getElementById('.timeline-wrapper'),
  //  data: animationData,
  //  animationSpeed: 100
  //});
  

</script>
</html>
